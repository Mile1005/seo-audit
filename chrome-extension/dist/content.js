(()=>{"use strict";let t=null,e=null,n=null;if("PerformanceObserver"in window)try{new PerformanceObserver(e=>{const n=e.getEntries(),r=n[n.length-1];r&&r.startTime&&(t=r.startTime)}).observe({type:"largest-contentful-paint",buffered:!0});let r=0;new PerformanceObserver(t=>{for(const e of t.getEntries())e.hadRecentInput||(r+=e.value);e=r}).observe({type:"layout-shift",buffered:!0}),new PerformanceObserver(t=>{const e=t.getEntries(),r=e[e.length-1];r&&r.startTime&&(n=r.startTime)}).observe({type:"event",buffered:!0})}catch{}chrome.runtime.onMessage.addListener((r,o,a)=>{"GET_SEO_DATA"===r.type&&a(function(){const r=function(){const t=document.title,e=document.querySelector('meta[name="description"]')?.getAttribute("content")||null,n=document.querySelector('link[rel="canonical"]')?.getAttribute("href")||null,r=document.querySelector('meta[name="robots"]')?.getAttribute("content")||null,o=document.querySelector('meta[name="viewport"]')?.getAttribute("content")||null,a={};document.querySelectorAll('meta[property^="og:"]').forEach(t=>{const e=t.getAttribute("property");e&&(a[e]=t.getAttribute("content")||"")});const i={};document.querySelectorAll('meta[name^="twitter:"]').forEach(t=>{const e=t.getAttribute("name");e&&(i[e]=t.getAttribute("content")||"")});const c=[];return document.querySelectorAll('script[type="application/ld+json"]').forEach(t=>{try{const e=JSON.parse(t.textContent||"{}");e["@type"]&&(Array.isArray(e["@type"])?e["@type"].forEach(t=>c.push(t)):c.push(e["@type"]))}catch{}}),{title:t,metaDescription:e,canonical:n,robots:r,viewport:o,openGraph:a,twitterCard:i,jsonLdTypes:c}}(),{headings:o,headingCounts:a}=function(){const t=Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6")).map(t=>({tag:t.tagName,text:t.textContent?.trim()||""})),e={};return t.forEach(t=>{e[t.tag]=(e[t.tag]||0)+1}),{headings:t,headingCounts:e}}(),i=Array.from(document.getElementsByTagName("img")).map(t=>({src:t.src,alt:t.alt,hasAlt:!!t.alt})),c=function(){const t=window.location.origin;return Array.from(document.getElementsByTagName("a")).map(e=>({href:e.href,text:e.textContent?.trim()||"",rel:e.getAttribute("rel"),isInternal:e.href.startsWith(t)}))}(),l=(document.body.innerText||"").split(/\s+/).filter(Boolean).length,s=function(t){const e=t.split(/[.!?]+/).length,n=t.split(/\s+/).length,r=t.split(/[aeiouy]+/gi).length;return 0===e||0===n?null:206.835-n/e*1.015-r/n*84.6}(document.body.innerText||""),u=function(t){return Math.round(t/200)}(l);return{page:r,headings:o,headingCounts:a,images:i,links:c,wordCount:l,readability:{fleschKincaid:s,readingTimeMin:u},coreWebVitals:{lcp:t,cls:e,inp:n}}}())})})();